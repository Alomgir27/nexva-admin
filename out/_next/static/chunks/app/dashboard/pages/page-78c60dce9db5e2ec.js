(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[658],{60013:function(e,t,a){Promise.resolve().then(a.bind(a,92511))},92511:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var s=a(57437),r=a(2265),l=a(99376),n=a(8301);let x=(0,n.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),c=(0,n.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),d=(0,n.Z)("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]),i=(0,n.Z)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),o=(0,n.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);var b=a(8940);let h=(0,n.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),m=(0,n.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var g=a(27648),p=a(54891);let u=(0,n.Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),v=(0,n.Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),y=(0,n.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);function f(e){let{isOpen:t,onClose:a,page:r}=e;return t&&r?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-[var(--bg-bg-overlay-l1)] border border-[var(--border-border-neutral-l1)] rounded-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-[var(--text-text-default)]",children:"Page Details"}),(0,s.jsx)("button",{onClick:a,className:"text-[var(--text-text-tertiary)] hover:text-[var(--text-text-default)] transition-colors",children:(0,s.jsx)(p.Z,{className:"h-5 w-5"})})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-auto space-y-6",children:[(0,s.jsxs)("div",{className:"bg-[var(--bg-bg-base-secondary)] rounded-xl p-5",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-[var(--text-text-default)] mb-4 flex items-center gap-2",children:[(0,s.jsx)(u,{className:"h-5 w-5"}),"Title"]}),(0,s.jsx)("p",{className:"text-[var(--text-text-default)]",children:r.title||"Untitled Page"})]}),(0,s.jsxs)("div",{className:"bg-[var(--bg-bg-base-secondary)] rounded-xl p-5",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-[var(--text-text-default)] mb-4 flex items-center gap-2",children:[(0,s.jsx)(b.Z,{className:"h-5 w-5"}),"URL"]}),(0,s.jsxs)("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"text-[var(--bg-bg-brand)] hover:underline break-all flex items-center gap-2",children:[r.url,(0,s.jsx)(b.Z,{className:"h-4 w-4 flex-shrink-0"})]})]}),r.tags&&r.tags.length>0&&(0,s.jsxs)("div",{className:"bg-[var(--bg-bg-base-secondary)] rounded-xl p-5",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-[var(--text-text-default)] mb-4 flex items-center gap-2",children:[(0,s.jsx)(v,{className:"h-5 w-5"}),"Tags"]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:r.tags.map((e,t)=>(0,s.jsx)("span",{className:"px-3 py-1.5 bg-[var(--bg-bg-brand)]/10 text-[var(--bg-bg-brand)] text-sm rounded-full border border-[var(--bg-bg-brand)]/20",children:e},t))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"bg-[var(--bg-bg-base-secondary)] rounded-xl p-5",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-[var(--text-text-secondary)] mb-2",children:"Word Count"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-[var(--text-text-default)]",children:r.word_count.toLocaleString()})]}),(0,s.jsxs)("div",{className:"bg-[var(--bg-bg-base-secondary)] rounded-xl p-5",children:[(0,s.jsxs)("h3",{className:"text-sm font-medium text-[var(--text-text-secondary)] mb-2 flex items-center gap-2",children:[(0,s.jsx)(y,{className:"h-4 w-4"}),"Last Updated"]}),(0,s.jsx)("p",{className:"text-[var(--text-text-default)]",children:new Date(r.last_updated).toLocaleString()})]})]}),(0,s.jsxs)("div",{className:"bg-[var(--bg-bg-base-secondary)] rounded-xl p-5",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-[var(--text-text-default)] mb-4",children:"Full Content"}),(0,s.jsx)("div",{className:"prose prose-invert max-w-none",children:(0,s.jsx)("p",{className:"text-[var(--text-text-secondary)] whitespace-pre-wrap leading-relaxed",children:r.content||r.content_preview||"No content available"})}),r.content&&(0,s.jsx)("div",{className:"mt-4 pt-4 border-t border-[var(--border-border-neutral-l1)]",children:(0,s.jsxs)("p",{className:"text-xs text-[var(--text-text-tertiary)]",children:[r.content.length.toLocaleString()," characters total"]})})]})]}),(0,s.jsx)("div",{className:"mt-6 pt-4 border-t border-[var(--border-border-neutral-l1)] flex justify-end",children:(0,s.jsx)("button",{onClick:a,className:"px-6 py-2 bg-[var(--bg-bg-brand)] text-[var(--text-text-onbrand)] rounded-lg hover:bg-[var(--bg-bg-brand-hover)] transition-all",children:"Close"})})]})}):null}function j(){(0,l.useRouter)();let e=(0,l.useSearchParams)(),t=e.get("domain"),a=e.get("url"),[n,p]=(0,r.useState)([]),[u,v]=(0,r.useState)(!1),[y,j]=(0,r.useState)(""),[N,w]=(0,r.useState)(1),[k,C]=(0,r.useState)(1),[S,L]=(0,r.useState)(0),[_,Z]=(0,r.useState)("table"),[M,P]=(0,r.useState)(null);(0,r.useEffect)(()=>{t&&R()},[t,N]);let R=async()=>{v(!0);try{let e=localStorage.getItem("token"),a=await fetch("http://localhost:8000/api/domains/".concat(t,"/pages?page=").concat(N,"&per_page=10"),{headers:{Authorization:"Bearer ".concat(e)}});if(a.ok){let e=await a.json();p(e.pages),L(e.total),C(e.total_pages)}}catch(e){console.error("Failed to fetch pages")}finally{v(!1)}},T=n.filter(e=>e.url.toLowerCase().includes(y.toLowerCase())||e.title&&e.title.toLowerCase().includes(y.toLowerCase()));return(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)(g.default,{href:"/dashboard/domains",className:"inline-flex items-center space-x-2 text-[var(--text-text-secondary)] hover:text-[var(--text-text-default)] mb-4",children:[(0,s.jsx)(x,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Back to Domains"})]}),(0,s.jsx)("h1",{className:"text-3xl font-semibold text-[var(--text-text-default)] mb-2",children:"Scraped Pages"}),(0,s.jsx)("p",{className:"text-[var(--text-text-secondary)]",children:a})]}),(0,s.jsxs)("div",{className:"bg-[var(--bg-bg-overlay-l1)] rounded-xl p-6",children:[(0,s.jsxs)("div",{className:"mb-6 flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-[var(--text-text-tertiary)]"}),(0,s.jsx)("input",{type:"text",value:y,onChange:e=>j(e.target.value),placeholder:"Search by URL or title...",className:"w-full pl-10 pr-4 py-2 bg-[var(--bg-bg-base-secondary)] border border-[var(--border-border-neutral-l1)] rounded-lg text-[var(--text-text-default)] focus:outline-none focus:border-[var(--bg-bg-brand)]"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 bg-[var(--bg-bg-base-secondary)] border border-[var(--border-border-neutral-l1)] rounded-lg p-1",children:[(0,s.jsx)("button",{onClick:()=>Z("table"),className:"p-2 rounded transition-colors ".concat("table"===_?"bg-[var(--bg-bg-brand)] text-[var(--text-text-onbrand)]":"text-[var(--text-text-secondary)] hover:bg-[var(--bg-bg-overlay-l1)]"),title:"Table View",children:(0,s.jsx)(d,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>Z("grid"),className:"p-2 rounded transition-colors ".concat("grid"===_?"bg-[var(--bg-bg-brand)] text-[var(--text-text-onbrand)]":"text-[var(--text-text-secondary)] hover:bg-[var(--bg-bg-overlay-l1)]"),title:"Grid View",children:(0,s.jsx)(i,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>Z("list"),className:"p-2 rounded transition-colors ".concat("list"===_?"bg-[var(--bg-bg-brand)] text-[var(--text-text-onbrand)]":"text-[var(--text-text-secondary)] hover:bg-[var(--bg-bg-overlay-l1)]"),title:"List View",children:(0,s.jsx)(o,{className:"h-4 w-4"})})]})]}),(0,s.jsx)("div",{className:"min-h-[500px]",children:u?(0,s.jsx)("div",{className:"grid"===_?"grid grid-cols-2 gap-3 animate-pulse":"space-y-3 animate-pulse",children:[1,2,3,4].map(e=>(0,s.jsx)("div",{className:"bg-[var(--bg-bg-base-secondary)] rounded-lg p-4 h-24"},e))}):0===T.length?(0,s.jsx)("div",{className:"text-center py-12 text-[var(--text-text-tertiary)]",children:"No pages found"}):"table"===_?(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-[var(--bg-bg-base-secondary)]",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[var(--text-text-secondary)] uppercase",children:"Title"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[var(--text-text-secondary)] uppercase",children:"URL"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[var(--text-text-secondary)] uppercase",children:"Tags"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[var(--text-text-secondary)] uppercase",children:"Words"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-[var(--text-text-secondary)] uppercase",children:"Preview"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-[var(--border-border-neutral-l1)]",children:T.map(e=>(0,s.jsxs)("tr",{onClick:()=>P(e),className:"hover:bg-[var(--bg-bg-base-secondary)] transition-colors cursor-pointer",children:[(0,s.jsx)("td",{className:"px-4 py-3 text-sm text-[var(--text-text-default)] font-medium max-w-xs truncate",children:e.title||"Untitled"}),(0,s.jsx)("td",{className:"px-4 py-3",children:(0,s.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-[var(--bg-bg-brand)] hover:underline flex items-center space-x-1 max-w-sm truncate",children:[(0,s.jsx)("span",{className:"truncate",children:e.url}),(0,s.jsx)(b.Z,{className:"h-3 w-3 flex-shrink-0"})]})}),(0,s.jsx)("td",{className:"px-4 py-3",children:e.tags&&e.tags.length>0?(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{className:"inline-block px-2 py-0.5 bg-[var(--bg-bg-brand)]/10 text-[var(--bg-bg-brand)] text-xs rounded-full",children:e.tags[0]}),e.tags.length>1&&(0,s.jsxs)("span",{className:"text-xs text-[var(--text-text-tertiary)]",children:["+",e.tags.length-1]})]}):(0,s.jsx)("span",{className:"text-xs text-[var(--text-text-tertiary)]",children:"—"})}),(0,s.jsx)("td",{className:"px-4 py-3 text-sm text-[var(--text-text-secondary)] whitespace-nowrap",children:e.word_count.toLocaleString()}),(0,s.jsx)("td",{className:"px-4 py-3 text-sm text-[var(--text-text-secondary)] max-w-md truncate",children:e.content_preview||"—"})]},e.id))})]})}):"grid"===_?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T.map(e=>(0,s.jsxs)("div",{onClick:()=>P(e),className:"bg-[var(--bg-bg-base-secondary)] rounded-lg p-4 hover:bg-[var(--bg-bg-overlay-l1)] transition-colors cursor-pointer",children:[(0,s.jsx)("h3",{className:"font-semibold text-[var(--text-text-default)] mb-2 truncate",children:e.title||"Untitled"}),(0,s.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-[var(--bg-bg-brand)] hover:underline flex items-center space-x-1 mb-3",children:[(0,s.jsx)("span",{className:"truncate",children:e.url}),(0,s.jsx)(b.Z,{className:"h-3 w-3 flex-shrink-0"})]}),e.tags&&e.tags.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-1 mb-3",children:e.tags.slice(0,4).map((e,t)=>(0,s.jsx)("span",{className:"px-2 py-0.5 bg-[var(--bg-bg-brand)]/10 text-[var(--bg-bg-brand)] text-xs rounded-full",children:e},t))}),(0,s.jsx)("div",{className:"flex items-center justify-between text-xs text-[var(--text-text-tertiary)] mb-2",children:(0,s.jsxs)("span",{children:[e.word_count.toLocaleString()," words"]})}),e.content_preview&&(0,s.jsx)("p",{className:"text-sm text-[var(--text-text-secondary)] line-clamp-3",children:e.content_preview})]},e.id))}):(0,s.jsx)("div",{className:"space-y-2",children:T.map(e=>(0,s.jsxs)("div",{onClick:()=>P(e),className:"bg-[var(--bg-bg-base-secondary)] rounded-lg p-4 hover:bg-[var(--bg-bg-overlay-l1)] transition-colors cursor-pointer",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"font-medium text-[var(--text-text-default)] mb-1 truncate",children:e.title||"Untitled"}),(0,s.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-[var(--bg-bg-brand)] hover:underline flex items-center space-x-1",children:[(0,s.jsx)("span",{className:"truncate",children:e.url}),(0,s.jsx)(b.Z,{className:"h-3 w-3 flex-shrink-0"})]})]}),(0,s.jsxs)("span",{className:"text-xs text-[var(--text-text-tertiary)] ml-4 whitespace-nowrap",children:[e.word_count.toLocaleString()," words"]})]}),e.tags&&e.tags.length>0&&(0,s.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:e.tags.slice(0,5).map((e,t)=>(0,s.jsx)("span",{className:"px-2 py-0.5 bg-[var(--bg-bg-brand)]/10 text-[var(--bg-bg-brand)] text-xs rounded-full",children:e},t))}),e.content_preview&&(0,s.jsx)("p",{className:"text-sm text-[var(--text-text-secondary)] line-clamp-2 mt-2",children:e.content_preview})]},e.id))})}),(0,s.jsxs)("div",{className:"mt-6 pt-4 border-t border-[var(--border-border-neutral-l1)] flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-sm text-[var(--text-text-tertiary)]",children:["Showing ",(N-1)*10+1,"-",Math.min(10*N,S)," of ",S," pages"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>w(e=>Math.max(1,e-1)),disabled:1===N,className:"px-3 py-1 bg-[var(--bg-bg-base-secondary)] text-[var(--text-text-default)] rounded-lg hover:bg-[var(--bg-bg-overlay-l1)] disabled:opacity-50 disabled:cursor-not-allowed",children:(0,s.jsx)(h,{className:"h-4 w-4"})}),(0,s.jsxs)("span",{className:"text-sm text-[var(--text-text-default)]",children:[N," / ",k]}),(0,s.jsx)("button",{onClick:()=>w(e=>Math.min(k,e+1)),disabled:N===k,className:"px-3 py-1 bg-[var(--bg-bg-base-secondary)] text-[var(--text-text-default)] rounded-lg hover:bg-[var(--bg-bg-overlay-l1)] disabled:opacity-50 disabled:cursor-not-allowed",children:(0,s.jsx)(m,{className:"h-4 w-4"})})]})]})]}),(0,s.jsx)(f,{isOpen:!!M,onClose:()=>P(null),page:M})]})}function N(){return(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)("div",{className:"p-8 text-center",children:"Loading..."}),children:(0,s.jsx)(j,{})})}},99376:function(e,t,a){"use strict";var s=a(35475);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},8940:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(8301).Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},54891:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(8301).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[589,971,117,744],function(){return e(e.s=60013)}),_N_E=e.O()}]);