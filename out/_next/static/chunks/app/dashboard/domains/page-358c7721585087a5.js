(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[568],{83865:function(e,t,a){Promise.resolve().then(a.bind(a,62854))},62854:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var r=a(57437),s=a(2265),l=a(99376),n=a(11585),d=a(8301);let i=(0,d.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var o=a(16325);let c=(0,d.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var x=a(8940),b=a(23488),m=a(54891),u=a(78279);function h(e){let{isOpen:t,onClose:a,chatbotId:l,onDomainAdded:n}=e,[d,i]=(0,s.useState)(""),[o,c]=(0,s.useState)(!1),[x,h]=(0,s.useState)(""),[p,v]=(0,s.useState)(!1),[g,y]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{t||(i(""),h(""),v(!1),c(!1),y(!1))},[t]),!t)return null;let f=async()=>{if(!g){y(!0),c(!0),h("");try{let e=localStorage.getItem("token"),t=await fetch("http://localhost:8000/api/domains",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({chatbot_id:l,url:d})});if(t.ok)a(),n();else{let e=await t.json();h(e.detail||"Failed to add domain"),c(!1),y(!1)}}catch(e){h("Failed to connect: ".concat((null==e?void 0:e.message)||"Unknown error")),c(!1),y(!1)}}};return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-[var(--bg-bg-overlay-l1)] border border-[var(--border-border-neutral-l1)] rounded-2xl p-6 w-full max-w-md",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-[var(--text-text-default)]",children:p?"Confirm Scraping":"Add Domain"}),(0,r.jsx)("button",{onClick:a,className:"text-[var(--text-text-tertiary)] hover:text-[var(--text-text-default)]",children:(0,r.jsx)(m.Z,{className:"h-5 w-5"})})]}),x&&(0,r.jsxs)("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center space-x-2",children:[(0,r.jsx)(u.Z,{className:"h-4 w-4 text-red-500"}),(0,r.jsx)("p",{className:"text-sm text-red-500",children:x})]}),p?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"p-4 bg-[var(--bg-bg-overlay-l2)] rounded-lg",children:[(0,r.jsxs)("p",{className:"text-sm text-[var(--text-text-default)] mb-2",children:["Start scraping ",(0,r.jsx)("span",{className:"font-mono text-[var(--bg-bg-brand)]",children:d}),"?"]}),(0,r.jsx)("p",{className:"text-xs text-[var(--text-text-tertiary)]",children:"Scraping will start in the background. The modal will close immediately and you can continue working."})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{onClick:()=>v(!1),disabled:o,className:"flex-1 px-4 py-2 bg-[var(--bg-bg-overlay-l2)] text-[var(--text-text-default)] rounded-lg hover:bg-[var(--bg-bg-overlay-l3)] transition-all",children:"Cancel"}),(0,r.jsxs)("button",{onClick:f,disabled:o,className:"flex-1 px-4 py-2 bg-[var(--bg-bg-brand)] text-[var(--text-text-onbrand)] rounded-lg hover:bg-[var(--bg-bg-brand-hover)] transition-all font-medium flex items-center justify-center space-x-2 disabled:opacity-50",children:[o&&(0,r.jsx)(b.Z,{className:"h-4 w-4 animate-spin"}),(0,r.jsx)("span",{children:o?"Adding Domain...":"Start Scraping"})]})]})]}):(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v(!0)},className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[var(--text-text-default)] mb-2",children:"Domain URL"}),(0,r.jsx)("input",{type:"url",value:d,onChange:e=>i(e.target.value),required:!0,placeholder:"https://example.com",className:"w-full px-4 py-2 bg-[var(--bg-bg-base-secondary)] border border-[var(--border-border-neutral-l1)] rounded-lg text-[var(--text-text-default)] focus:outline-none focus:border-[var(--bg-bg-brand)]"}),(0,r.jsx)("p",{className:"text-xs text-[var(--text-text-tertiary)] mt-2",children:"This will automatically start scraping the domain and all its pages."})]}),(0,r.jsx)("button",{type:"submit",className:"w-full px-4 py-2 bg-[var(--bg-bg-brand)] text-[var(--text-text-onbrand)] rounded-lg hover:bg-[var(--bg-bg-brand-hover)] transition-all font-medium",children:"Continue"})]})]})})}let p=(0,d.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function v(e){let{isOpen:t,onClose:a,onConfirm:s,domainUrl:l,isDeleting:n}=e;return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-[var(--bg-bg-overlay-l1)] border border-[var(--border-border-neutral-l1)] rounded-2xl p-6 w-full max-w-md",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"p-2 bg-red-500/10 rounded-lg",children:(0,r.jsx)(p,{className:"h-6 w-6 text-red-500"})}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-[var(--text-text-default)]",children:"Delete Domain"})]}),(0,r.jsx)("button",{onClick:a,disabled:n,className:"text-[var(--text-text-tertiary)] hover:text-[var(--text-text-default)] transition-colors disabled:opacity-50",children:(0,r.jsx)(m.Z,{className:"h-5 w-5"})})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("p",{className:"text-[var(--text-text-default)] mb-3",children:"Are you sure you want to delete this domain?"}),(0,r.jsx)("div",{className:"p-3 bg-[var(--bg-bg-base-secondary)] rounded-lg border border-[var(--border-border-neutral-l1)]",children:(0,r.jsx)("p",{className:"text-sm font-mono text-[var(--text-text-secondary)] break-all",children:l})}),(0,r.jsx)("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:(0,r.jsx)("p",{className:"text-sm text-red-500",children:"⚠️ This action cannot be undone. All scraped pages and data will be permanently deleted."})})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{onClick:a,disabled:n,className:"flex-1 px-4 py-2 bg-[var(--bg-bg-overlay-l2)] text-[var(--text-text-default)] rounded-lg hover:bg-[var(--bg-bg-overlay-l3)] transition-all disabled:opacity-50",children:"Cancel"}),(0,r.jsxs)("button",{onClick:s,disabled:n,className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all font-medium flex items-center justify-center space-x-2 disabled:opacity-50",children:[n&&(0,r.jsx)(b.Z,{className:"h-4 w-4 animate-spin"}),(0,r.jsx)("span",{children:n?"Deleting...":"Delete Domain"})]})]})]})}):null}let g=(0,d.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function y(e){let{isOpen:t,onClose:a,chatbotId:l,onMemberAdded:n}=e,[d,i]=(0,s.useState)(""),[o,c]=(0,s.useState)(""),[x,u]=(0,s.useState)(!1);if(!t)return null;let h=async e=>{e.preventDefault(),u(!0);try{let e=localStorage.getItem("token"),t=await fetch("http://localhost:8000/api/chatbots/".concat(l,"/support-team"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({email:d,name:o})});if(t.ok)i(""),c(""),n(),a();else{let e=await t.json();alert(e.detail||"Failed to invite member")}}catch(e){alert("Failed to invite member")}finally{u(!1)}};return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-[var(--bg-bg-overlay-l1)] rounded-xl border border-[var(--border-border-neutral-l1)] max-w-md w-full mx-4 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(g,{className:"h-5 w-5 text-[var(--text-text-default)]"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-[var(--text-text-default)]",children:"Invite Support Member"})]}),(0,r.jsx)("button",{onClick:a,className:"p-1 hover:bg-[var(--bg-bg-overlay-l2)] rounded transition-all",children:(0,r.jsx)(m.Z,{className:"h-5 w-5 text-[var(--text-text-secondary)]"})})]}),(0,r.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[var(--text-text-default)] mb-2",children:"Name"}),(0,r.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:"John Doe",required:!0,className:"w-full px-4 py-2 bg-[var(--bg-bg-base-secondary)] border border-[var(--border-border-neutral-l1)] rounded-lg text-[var(--text-text-default)] focus:outline-none focus:border-[var(--bg-bg-brand)]"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[var(--text-text-default)] mb-2",children:"Email"}),(0,r.jsx)("input",{type:"email",value:d,onChange:e=>i(e.target.value),placeholder:"john@example.com",required:!0,className:"w-full px-4 py-2 bg-[var(--bg-bg-base-secondary)] border border-[var(--border-border-neutral-l1)] rounded-lg text-[var(--text-text-default)] focus:outline-none focus:border-[var(--bg-bg-brand)]"})]}),(0,r.jsx)("p",{className:"text-sm text-[var(--text-text-secondary)]",children:"An invitation email will be sent to this address."}),(0,r.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 bg-[var(--bg-bg-overlay-l2)] text-[var(--text-text-default)] rounded-lg hover:bg-[var(--bg-bg-overlay-l3)] transition-all",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:x,className:"flex-1 px-4 py-2 bg-[var(--bg-bg-brand)] text-[var(--text-text-onbrand)] rounded-lg hover:bg-[var(--bg-bg-brand-hover)] disabled:opacity-50 transition-all flex items-center justify-center space-x-2",children:x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.Z,{className:"h-4 w-4 animate-spin"}),(0,r.jsx)("span",{children:"Sending..."})]}):(0,r.jsx)("span",{children:"Send Invitation"})})]})]})]})})}var f=a(27648);function j(){let e=(0,l.useRouter)(),[t,a]=(0,s.useState)([]),[d,m]=(0,s.useState)([]),[u,p]=(0,s.useState)(null),[g,j]=(0,s.useState)(!0),[N,k]=(0,s.useState)(!1),[w,S]=(0,s.useState)(null),[C,Z]=(0,s.useState)(null),[D,A]=(0,s.useState)(!1),[M,I]=(0,s.useState)([]),[F,z]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(!localStorage.getItem("token")){e.push("/login");return}P()},[]),(0,s.useEffect)(()=>{if(u){T(u),L(u);let e=setInterval(()=>{E(u)},5e3);return()=>clearInterval(e)}},[u]);let E=async e=>{try{let t=localStorage.getItem("token"),a=await fetch("http://localhost:8000/api/domains/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}});if(a.ok){let e=await a.json();m(e)}}catch(e){console.error("Failed to fetch domains")}},P=async()=>{try{let t=localStorage.getItem("token"),r=await fetch("http://localhost:8000/api/chatbots",{headers:{Authorization:"Bearer ".concat(t)}});if(401===r.status){localStorage.removeItem("token"),e.push("/login");return}if(r.ok){let e=await r.json();a(e),e.length>0&&p(e[0].id)}}catch(e){console.error("Failed to fetch chatbots",e)}finally{j(!1)}},T=async e=>{try{let t=localStorage.getItem("token"),a=await fetch("http://localhost:8000/api/domains/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}});if(a.ok){let e=await a.json();m(e)}}catch(e){console.error("Failed to fetch domains")}},_=e=>{switch(e){case"completed":return"text-green-500 bg-green-500/10";case"scraping":return"text-yellow-500 bg-yellow-500/10";case"failed":return"text-red-500 bg-red-500/10";default:return"text-gray-500 bg-gray-500/10"}},q=async e=>{S(e);try{let t=localStorage.getItem("token");(await fetch("http://localhost:8000/api/domains/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}})).ok?(Z(null),u&&T(u)):alert("Failed to delete domain")}catch(e){console.error("Failed to delete domain",e),alert("Failed to delete domain")}finally{S(null)}},L=async e=>{try{let t=localStorage.getItem("token"),a=await fetch("http://localhost:8000/api/chatbots/".concat(e,"/support-team"),{headers:{Authorization:"Bearer ".concat(t)}});if(a.ok){let e=await a.json();I(e)}}catch(e){console.error("Failed to fetch support team",e)}},O=async e=>{if(confirm("Are you sure you want to remove this support member?"))try{let t=localStorage.getItem("token");(await fetch("http://localhost:8000/api/support-team/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}})).ok&&u?L(u):alert("Failed to remove member")}catch(e){console.error("Failed to remove member",e),alert("Failed to remove member")}};return g?(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-semibold text-[var(--text-text-default)] mb-2",children:"Domains"}),(0,r.jsx)("p",{className:"text-[var(--text-text-secondary)]",children:"Loading domains..."})]}),(0,r.jsx)("div",{className:"animate-pulse",children:(0,r.jsx)("div",{className:"bg-[var(--bg-bg-overlay-l1)] rounded-xl border border-[var(--border-border-neutral-l1)] p-6 h-40"})})]}):(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-semibold text-[var(--text-text-default)] mb-2",children:"Domains"}),(0,r.jsx)("p",{className:"text-[var(--text-text-secondary)]",children:"Manage scraped domains for your chatbots"})]}),0===t.length?(0,r.jsxs)("div",{className:"bg-[var(--bg-bg-overlay-l1)] rounded-xl border border-[var(--border-border-neutral-l1)] p-12 text-center",children:[(0,r.jsx)(n.Z,{className:"h-12 w-12 text-[var(--text-text-tertiary)] mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-[var(--text-text-secondary)] mb-4",children:"Create a chatbot first to add domains"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-[var(--bg-bg-overlay-l1)] rounded-xl border border-[var(--border-border-neutral-l1)] p-6 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-[var(--text-text-default)]",children:"Select Chatbot"}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)("button",{onClick:()=>z(!F),disabled:!u,className:"flex items-center space-x-2 px-4 py-2 bg-[var(--bg-bg-overlay-l2)] text-[var(--text-text-default)] rounded-lg hover:bg-[var(--bg-bg-overlay-l3)] disabled:opacity-50 transition-all",children:[(0,r.jsx)(i,{className:"h-4 w-4"}),(0,r.jsxs)("span",{children:["Support Team (",M.length,")"]})]}),(0,r.jsxs)("button",{onClick:()=>k(!0),disabled:!u,className:"flex items-center space-x-2 px-4 py-2 bg-[var(--bg-bg-brand)] text-[var(--text-text-onbrand)] rounded-lg hover:bg-[var(--bg-bg-brand-hover)] disabled:opacity-50 transition-all",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Add Domain"})]})]})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(e=>(0,r.jsx)("button",{onClick:()=>p(e.id),className:"px-4 py-2 rounded-lg transition-all ".concat(u===e.id?"bg-[var(--bg-bg-brand)] text-[var(--text-text-onbrand)]":"bg-[var(--bg-bg-overlay-l2)] text-[var(--text-text-secondary)] hover:bg-[var(--bg-bg-overlay-l3)]"),children:e.name},e.id))})]}),F&&u&&(0,r.jsxs)("div",{className:"bg-[var(--bg-bg-overlay-l1)] rounded-xl border border-[var(--border-border-neutral-l1)] p-6 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-[var(--text-text-default)]",children:"Support Team"}),(0,r.jsxs)("button",{onClick:()=>A(!0),className:"flex items-center space-x-2 px-4 py-2 bg-[var(--bg-bg-brand)] text-[var(--text-text-onbrand)] rounded-lg hover:bg-[var(--bg-bg-brand-hover)] transition-all",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Invite Member"})]})]}),0===M.length?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(i,{className:"h-12 w-12 text-[var(--text-text-tertiary)] mx-auto mb-3"}),(0,r.jsx)("p",{className:"text-[var(--text-text-secondary)]",children:"No support team members yet"})]}):(0,r.jsx)("div",{className:"space-y-2",children:M.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[var(--bg-bg-base-secondary)] rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-[var(--text-text-default)]",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-[var(--text-text-secondary)]",children:e.email})]}),(0,r.jsx)("button",{onClick:()=>O(e.id),className:"p-2 text-red-500 hover:bg-red-500/10 rounded transition-all",title:"Remove Member",children:(0,r.jsx)(c,{className:"h-4 w-4"})})]},e.id))})]}),(0,r.jsxs)("div",{className:"bg-[var(--bg-bg-overlay-l1)] rounded-xl border border-[var(--border-border-neutral-l1)] overflow-hidden",children:[(0,r.jsx)("div",{className:"p-6 border-b border-[var(--border-border-neutral-l1)]",children:(0,r.jsx)("h2",{className:"text-lg font-semibold text-[var(--text-text-default)]",children:"Domain List"})}),0===d.length?(0,r.jsxs)("div",{className:"p-12 text-center",children:[(0,r.jsx)(n.Z,{className:"h-12 w-12 text-[var(--text-text-tertiary)] mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-[var(--text-text-secondary)]",children:"No domains added yet"})]}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-[var(--bg-bg-base-secondary)]",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-text-secondary)] uppercase tracking-wider",children:"Domain"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-text-secondary)] uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-text-secondary)] uppercase tracking-wider",children:"Pages"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-text-secondary)] uppercase tracking-wider",children:"Last Scraped"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-[var(--text-text-secondary)] uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-[var(--border-border-neutral-l1)]",children:d.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-[var(--bg-bg-base-secondary)] transition-colors",children:[(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-[var(--text-text-default)] hover:text-[var(--bg-bg-brand)]",children:[(0,r.jsx)("span",{children:e.url}),(0,r.jsx)(x.Z,{className:"h-3 w-3"})]})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(_(e.status)),children:["scraping"===e.status&&(0,r.jsx)(b.Z,{className:"h-3 w-3 mr-1 animate-spin"}),e.status]})}),(0,r.jsx)("td",{className:"px-6 py-4 text-[var(--text-text-default)]",children:e.pages_scraped}),(0,r.jsx)("td",{className:"px-6 py-4 text-[var(--text-text-secondary)] text-sm",children:e.last_scraped_at?new Date(e.last_scraped_at).toLocaleString():"Never"}),(0,r.jsx)("td",{className:"px-6 py-4 text-right",children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,r.jsx)(f.default,{href:"/dashboard/pages?domain=".concat(e.id,"&url=").concat(encodeURIComponent(e.url)),children:(0,r.jsx)("button",{className:"px-3 py-1 text-sm bg-[var(--bg-bg-overlay-l2)] hover:bg-[var(--bg-bg-overlay-l3)] rounded text-[var(--text-text-secondary)] transition-all",children:"View Pages"})}),(0,r.jsx)("button",{onClick:()=>Z({id:e.id,url:e.url}),disabled:w===e.id,className:"p-2 text-red-500 hover:bg-red-500/10 rounded transition-all disabled:opacity-50",title:"Delete Domain",children:w===e.id?(0,r.jsx)(b.Z,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(c,{className:"h-4 w-4"})})]})})]},e.id))})]})})]})]}),N&&u&&(0,r.jsx)(h,{isOpen:N,onClose:()=>{k(!1)},chatbotId:u,onDomainAdded:()=>{T(u)}}),D&&u&&(0,r.jsx)(y,{isOpen:D,onClose:()=>A(!1),chatbotId:u,onMemberAdded:()=>{L(u)}}),(0,r.jsx)(v,{isOpen:!!C,onClose:()=>Z(null),onConfirm:()=>C&&q(C.id),domainUrl:(null==C?void 0:C.url)||"",isDeleting:!!w})]})}},99376:function(e,t,a){"use strict";var r=a(35475);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},78279:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8301).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},8940:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8301).Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},11585:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8301).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]])},23488:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8301).Z)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]])},16325:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8301).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},54891:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(8301).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[589,971,117,744],function(){return e(e.s=83865)}),_N_E=e.O()}]);